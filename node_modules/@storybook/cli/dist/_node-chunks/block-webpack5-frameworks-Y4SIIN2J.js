import CJS_COMPAT_NODE_URL_zv09hezec4 from 'node:url';
import CJS_COMPAT_NODE_PATH_zv09hezec4 from 'node:path';
import CJS_COMPAT_NODE_MODULE_zv09hezec4 from "node:module";

var __filename = CJS_COMPAT_NODE_URL_zv09hezec4.fileURLToPath(import.meta.url);
var __dirname = CJS_COMPAT_NODE_PATH_zv09hezec4.dirname(__filename);
var require = CJS_COMPAT_NODE_MODULE_zv09hezec4.createRequire(import.meta.url);

// ------------------------------------------------------------
// end of CJS compatibility banner, injected by Storybook's esbuild configuration
// ------------------------------------------------------------
import {
  findOutdatedPackage
} from "./chunk-UGMDECHZ.js";
import "./chunk-F745V6PN.js";
import {
  createBlocker
} from "./chunk-N7KQNM57.js";
import "./chunk-XFVW7Z75.js";
import "./chunk-OQELV2SQ.js";

// src/autoblock/block-webpack5-frameworks.ts
var minimalVersionsMap = {
  "@storybook/preact-webpack5": "9.0.0",
  "@storybook/preset-preact-webpack": "9.0.0",
  "@storybook/vue3-webpack5": "9.0.0",
  "@storybook/preset-vue3-webpack": "9.0.0",
  "@storybook/html-webpack5": "9.0.0",
  "@storybook/preset-html-webpack": "9.0.0",
  "@storybook/web-components-webpack5": "9.0.0",
  "@storybook/svelte-webpack5": "9.0.0"
};
var blocker = createBlocker({
  id: "dependenciesVersions",
  async check({ packageManager }) {
    return findOutdatedPackage(minimalVersionsMap, { packageManager });
  },
  log(data) {
    const additionalInfo = "Please migrate your Webpack5-based frameworks to their Vite equivalents.";
    const link = "https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#dropped-webpack5-builder-support-in-favor-of-vite";
    let title;
    switch (data.packageName) {
      case "@storybook/preact-webpack5":
      case "@storybook/preset-preact-webpack":
        title = "Preact Webpack5 support removed";
        break;
      case "@storybook/vue3-webpack5":
      case "@storybook/preset-vue3-webpack":
        title = "Vue3 Webpack5 support removed";
        break;
      case "@storybook/html-webpack5":
      case "@storybook/preset-html-webpack":
        title = "HTML Webpack5 support removed";
        break;
      case "@storybook/web-components-webpack5":
        title = "Web Components Webpack5 support removed";
        break;
      case "@storybook/svelte-webpack5":
        title = "Svelte Webpack5 support removed";
        break;
    }
    return {
      title,
      message: additionalInfo,
      link
    };
  }
});
export {
  blocker
};
